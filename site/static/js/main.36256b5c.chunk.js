(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{165:function(e,t,a){e.exports=a(232)},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){},181:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),o=a.n(r),l=(a(170),a(20)),i=(a(171),a(11)),s=a(12),u=a(263),d=(a(172),function(e){var t=e.text,a=e.count,n=e.icon,r=e.onClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"action-button"},c.a.createElement("div",{className:"action-text"},t),c.a.createElement(u.a,{color:"secondary",onClick:r},n),c.a.createElement("div",{className:"action-count"},a)))}),m=a(93),p=a.n(m),f=a(127),E=a.n(f),b=(a(176),a(43)),y=a(16),h=a(233),v=(a(178),c.a.createContext({chartValues:{text:"",value:0},setChartValues:function(){}})),O=a(70),g=function(e){var t=e.argument,a=e.value,r=Object(n.useContext)(v).setChartValues;return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.e.Point,Object.assign({},e,{onClick:function(){r({text:t,value:a})},className:"".concat("Exposed"===t?"exposed-series":"not-exposed-series")})))},x=function(e){var t=e.data,a=e.linkPath,r=Object(n.useState)({text:"",value:0}),o=Object(s.a)(r,2),l=o[0],i=o[1];Object(n.useEffect)((function(){var e=t[0];i({text:e.displayText,value:e.displayValue})}),[t]),Object(n.useEffect)((function(){return function(){}}));var u={chartValues:l,setChartValues:i};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.Provider,{value:u},c.a.createElement("div",{className:"chart-container"},c.a.createElement(h.a,null,c.a.createElement(b.c,{data:t,width:300,height:300},c.a.createElement(b.e,{valueField:"displayValue",argumentField:"displayText",innerRadius:.8,outerRadius:1,pointComponent:g}),c.a.createElement(b.d,{position:"bottom"}),c.a.createElement(y.a,null)))),c.a.createElement("div",{className:"series-values"},c.a.createElement("div",{className:"series-value"},l.value),c.a.createElement("div",{className:"series-name"},l.text),c.a.createElement(O.b,{to:a,className:"series-link"},"View All"))))},j=a(298),D=a(269),C=a(270),w=a(294),k=a(278),N=a(295),S=a(274),P=a(275),T=a(291),R=a(10),I=a.n(R),A=a(75),M=function e(t,a,n,c,r){Object(A.a)(this,e),this.id=void 0,this.name=void 0,this.date=void 0,this.hours=void 0,this.isExposed=void 0,this.id=t,this.name=a,this.date=n,this.hours=c,this.isExposed=r},F=(a(181),function(e){var t=e.open,a=e.dialogTitle,r=e.handleClose,o=e.saveCallback,l=e.nameDisplayText,i=e.exposureDisplayText,u=e.initialValue,d=Object(n.useState)(""),m=Object(s.a)(d,2),p=m[0],f=m[1],E=Object(n.useState)(new Date),b=Object(s.a)(E,2),y=b[0],h=b[1],v=Object(n.useState)(0),O=Object(s.a)(v,2),g=O[0],x=O[1],R=Object(n.useState)(!1),A=Object(s.a)(R,2),F=A[0],V=A[1],L=Object(n.useState)(!1),q=Object(s.a)(L,2),U=q[0],_=q[1],B=Object(n.useState)(!1),W=Object(s.a)(B,2),Y=W[0],H=W[1],z=Object(n.useState)(!1),G=Object(s.a)(z,2),J=G[0],K=G[1];return Object(n.useEffect)((function(){t&&(u?(f(u.name),h(u.date),x(u.hours),V(u.isExposed)):(f(""),h(new Date),x(0),V(!1)),_(!1),K(!1),H(!1))}),[t,u]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{open:t,onClose:r,disableBackdropClick:!0,scroll:"body"},c.a.createElement(D.a,null,a),c.a.createElement(C.a,null,c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"form-control"},c.a.createElement(w.a,{error:U,helperText:U?"".concat(l," is required"):"",value:p,label:l,type:"text",onChange:function(e){_(""===e.target.value.trim()),f(e.target.value)}})),c.a.createElement("div",{className:"form-control"},c.a.createElement(T.b,{error:Y,helperText:Y?"Invalid Date":"",margin:"normal",label:"Date",format:"MM/dd/yyyy",value:y,onChange:function(e){!e||I()(e).toDate()>I()().toDate()?H(!0):H(!1),h(e)}})),c.a.createElement("div",{className:"form-control"},c.a.createElement(w.a,{error:J,helperText:J?"Hours should be greater than 0":"",label:"Hours",type:"number",value:g,onChange:function(e){K(+e.target.value<1),x(+e.target.value)}})),c.a.createElement("div",{className:"form-control"},c.a.createElement(k.a,{control:c.a.createElement(N.a,{checked:F,onChange:function(){return V(!F)},name:"checkedB",color:"primary"}),label:i})))),c.a.createElement(S.a,null,c.a.createElement(P.a,{onClick:r,color:"primary"},"Cancel"),c.a.createElement(P.a,{disabled:U||Y||J||""===p.trim()||g<1,onClick:function(){o(new M("",p,y,g,F)),r()},color:"primary"},"Save"))))}),V=a(32),L=a(19),q=a.n(L),U=a(34),_=function e(){Object(A.a)(this,e),this._id=void 0,this.name=void 0,this.date=void 0,this.hours=void 0,this.isSocialDistancing=void 0},B=a(35),W=a.n(B),Y=a(54),H={apiUrl:"https://don-covid-tracker-api.herokuapp.com"},z="".concat(H.apiUrl,"/api/social-interactions"),G=function(){var e=Object(U.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(z);case 2:return t=e.sent,a=Object(Y.a)(_,t.data),e.abrupt("return",a.map((function(e){return new M(e._id,e.name,e.date,e.hours,!e.isSocialDistancing)})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(U.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post(z,t);case 2:return a=e.sent,n=Object(Y.a)(_,a.data),e.abrupt("return",new M(n._id,n.name,n.date,n.hours,!n.isSocialDistancing));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.delete("".concat(z,"/").concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(U.a)(q.a.mark((function e(t,a){var n,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.put("".concat(z,"/").concat(a),t);case 2:return n=e.sent,c=Object(Y.a)(_,n.data),e.abrupt("return",new M(c._id,c.name,c.date,c.hours,!c.isSocialDistancing));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Q(){return function(e){e({type:"Fetch Interactions Request"}),G().then((function(t){return e({type:"Fetch Social Interactions",payload:{interactions:t}})}))}}function X(e){var t={date:I()(e.date).startOf("day").toDate(),hours:e.hours,isSocialDistancing:!e.isExposed,name:e.name};return function(e){e({type:"Add Interaction Request"}),J(t).then((function(t){return e(function(e){return{type:"Add Social Interaction",payload:{interaction:e}}}(t))}))}}function Z(e){return function(t){t({type:"Remove Interaction Request"}),K(e).then((function(a){return t(function(e){return{type:"Remove Social Interaction",payload:{interactionId:e}}}(e))}))}}function ee(e){var t={date:I()(e.date).startOf("day").toDate(),hours:e.hours,isSocialDistancing:!e.isExposed,name:e.name};return function(a){a({type:"Update Interaction Request"}),$(t,e.id).then((function(e){return a(function(e){return{type:"Update Social Interaction",payload:{interaction:e}}}(e))}))}}var te="Update Date Range",ae="Last 7 Days",ne="7",ce="Last 14 Days",re="14",oe="Today",le="T",ie="Month",se="M",ue="Year",de="Y",me="Custom Date",pe="S",fe={dateRange:{endDate:I()().endOf("day").toDate(),startDate:I()().subtract(6,"days").startOf("day").toDate(),range:ae,display:I()().subtract(6,"days").startOf("day").format("MM/DD/yyyy")+" - "+I()().endOf("day").format("MM/DD/yyyy"),icon:ne}};var Ee=function(){var e=Object(V.c)((function(e){return e.dateRangeReducer.dateRange})),t=Object(V.b)();return{currentDateRange:e,lastSevenDays:function(){t({payload:fe,type:te})},today:function(){t({payload:{dateRange:{startDate:I()().startOf("day").toDate(),endDate:I()().endOf("day").toDate(),icon:le,range:oe,display:I()().format("MM/DD/yyyy")}},type:te})},lastTwoWeeks:function(){t({payload:{dateRange:{startDate:I()().subtract(13,"days").startOf("day").toDate(),endDate:I()().endOf("day").toDate(),icon:re,range:ce,display:I()().subtract(13,"days").startOf("day").format("MM/DD/yyyy")+" - "+I()().endOf("day").format("MM/DD/yyyy")}},type:te})},month:function(e){t(function(e){return{payload:{dateRange:{startDate:I()(e).startOf("month").startOf("day").toDate(),endDate:I()(e).endOf("month").endOf("day").toDate(),icon:se,range:ie,display:I()(e).format("MMMM yyyy")}},type:te}}(e))},year:function(e){t(function(e){return{payload:{dateRange:{startDate:I()(e).startOf("year").startOf("day").toDate(),endDate:I()(e).endOf("year").endOf("day").toDate(),icon:de,range:ue,display:I()(e).format("yyyy")}},type:te}}(e))},customDate:function(e){t(function(e){return{payload:{dateRange:{startDate:I()(e).startOf("day").toDate(),endDate:I()(e).endOf("day").toDate(),icon:pe,range:me,display:I()(e).format("MMMM DD yyyy")}},type:te}}(e))}}},be=function(){var e=Object(V.c)((function(e){return e.socialInteractionReducer})),t=e.interactions,a=e.loading,c=Object(V.b)(),r=Object(n.useState)(t),o=Object(s.a)(r,2),l=o[0],i=o[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Ee().currentDateRange;Object(n.useEffect)((function(){var e=t.filter((function(e){return new Date(e.date)>=f.startDate&&new Date(e.date)<=f.endDate}));i(e);var a=I()().subtract(13,"days").startOf("day").toDate(),n=I()().endOf("day").toDate(),c=t.some((function(e){return new Date(e.date)>=a&&new Date(e.date)<=n&&e.isExposed}));p(c)}),[t,f]);return{interactions:l,loading:a,fetchInteractions:function(){c(Q())},addInteraction:function(e){c(X(e))},deleteInteraction:function(e){c(Z(e))},updateInteraction:function(e){c(ee(e))},hasInteractionExposure:m}},ye=function e(){Object(A.a)(this,e),this._id=void 0,this.place=void 0,this.date=void 0,this.hours=void 0,this.isCrowded=void 0},he="".concat(H.apiUrl,"/api/visited-places"),ve=function(){var e=Object(U.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get(he);case 2:return t=e.sent,a=Object(Y.a)(ye,t.data),e.abrupt("return",a.map((function(e){return new M(e._id,e.place,e.date,e.hours,e.isCrowded)})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(U.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post(he,t);case 2:return a=e.sent,n=Object(Y.a)(ye,a.data),e.abrupt("return",new M(n._id,n.place,n.date,n.hours,n.isCrowded));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.delete("".concat(he,"/").concat(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(U.a)(q.a.mark((function e(t,a){var n,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.put("".concat(he,"/").concat(a),t);case 2:return n=e.sent,c=Object(Y.a)(ye,n.data),e.abrupt("return",new M(c._id,c.place,c.date,c.hours,c.isCrowded));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function je(){return function(e){e({type:"Fetch PLACEs Request"}),ve().then((function(t){return e({type:"Fetch Social PLACEs",payload:{places:t}})}))}}function De(e){var t={date:I()(e.date).startOf("day").toDate(),hours:e.hours,isCrowded:e.isExposed,place:e.name};return function(e){e({type:"Add PLACE Request"}),Oe(t).then((function(t){return e(function(e){return{type:"Add Social PLACE",payload:{place:e}}}(t))}))}}function Ce(e){return function(t){t({type:"Remove PLACE Request"}),ge(e).then((function(a){return t(function(e){return{type:"Remove Social PLACE",payload:{placeId:e}}}(e))}))}}function we(e){var t={date:I()(e.date).startOf("day").toDate(),hours:e.hours,isCrowded:e.isExposed,place:e.name};return function(a){a({type:"Update PLACE Request"}),xe(t,e.id).then((function(e){return a(function(e){return{type:"Update Social PLACE",payload:{place:e}}}(e))}))}}var ke=function(){var e=Object(V.c)((function(e){return e.visitedPlaceReducer})),t=e.places,a=e.loading,c=Object(V.b)(),r=Object(n.useState)(t),o=Object(s.a)(r,2),l=o[0],i=o[1],u=Object(n.useState)(!1),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Ee().currentDateRange;Object(n.useEffect)((function(){var e=t.filter((function(e){return new Date(e.date)>=f.startDate&&new Date(e.date)<=f.endDate}));i(e);var a=I()().subtract(13,"days").startOf("day").toDate(),n=I()().endOf("day").toDate(),c=t.some((function(e){return new Date(e.date)>=a&&new Date(e.date)<=n&&e.isExposed}));p(c)}),[t,f]);return{places:l,loading:a,fetchPlaces:function(){c(je())},addPlace:function(e){c(De(e))},deletePlace:function(e){c(Ce(e))},savePlace:function(e){c(we(e))},hasPlaceExposure:m}},Ne=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({type:"Interaction",title:"Add Social Interaction",nameDisplayText:"Name",exposureDisplayText:"Is Social Distancing Observed?"}),l=Object(s.a)(o,2),u=l[0],m=l[1],f=be(),b=f.interactions,y=f.addInteraction,h=ke(),v=h.places,O=h.addPlace,g=Ee().currentDateRange,j=Object(n.useState)([{displayText:"Not Exposed",displayValue:0},{displayText:"Exposed",displayValue:0}]),D=Object(s.a)(j,2),C=D[0],w=D[1],k=Object(n.useState)("/interactions"),N=Object(s.a)(k,2),S=N[0],P=N[1];Object(n.useEffect)((function(){a?(P("/interactions"),w([{displayText:"Not Exposed",displayValue:b.filter((function(e){return!e.isExposed})).length},{displayText:"Exposed",displayValue:b.filter((function(e){return e.isExposed})).length}])):(P("/places"),w([{displayText:"Not Exposed",displayValue:v.filter((function(e){return!e.isExposed})).length},{displayText:"Exposed",displayValue:v.filter((function(e){return e.isExposed})).length}]))}),[a,b,v,g]);var T=Object(n.useState)(!1),R=Object(s.a)(T,2),I=R[0],A=R[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"action-buttons"},c.a.createElement(d,{text:"Add Social Interactions",onClick:function(){m({type:"Interaction",title:"Add Social Interaction",nameDisplayText:"Name",exposureDisplayText:"Is Social Distancing Observed?"}),A(!0)},count:b.length,icon:c.a.createElement(p.a,null)}),c.a.createElement("div",null,c.a.createElement("div",{className:"chart-header",onClick:function(){return r(!a)}},a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"header-text"},"Social Interactions"),c.a.createElement("div",{className:"header-sub-text"},"Visited Places")),!a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"header-text"},"Visited Places"),c.a.createElement("div",{className:"header-sub-text"},"Social Interactions"))),c.a.createElement(x,{data:C,linkPath:S})),c.a.createElement(d,{text:"Add Place Exposure",count:v.length,icon:c.a.createElement(E.a,null),onClick:function(){m({type:"Place",title:"Add Visited Place",nameDisplayText:"Place",exposureDisplayText:"Is the Place Crowded?"}),A(!0)}}),c.a.createElement(F,{open:I,dialogTitle:u.title,nameDisplayText:u.nameDisplayText,exposureDisplayText:u.exposureDisplayText,handleClose:function(){return A(!1)},saveCallback:function(e){"Interaction"===u.type?y(Object(i.a)(Object(i.a)({},e),{},{isExposed:!e.isExposed})):O(e)}})))},Se=a(273),Pe=a(280),Te=a(277),Re=a(97),Ie=a(276),Ae=a(281),Me=a(282),Fe=a(283),Ve=a(284),Le=a(128),qe=a.n(Le),Ue=a(130),_e=a.n(Ue),Be=a(131),We=a.n(Be),Ye=a(132),He=a.n(Ye),ze=a(129),Ge=a.n(ze),Je=(a(204),function(e){var t=e.icon,a=e.text,n=e.selected,r=e.handleDateRangeClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"date-range-button ".concat(n?"active":""),onClick:r},c.a.createElement("div",{className:"date-range-icon",dangerouslySetInnerHTML:{__html:t}}),c.a.createElement("div",{className:"date-range-text"},a)))}),Ke=(a(205),Object(Se.a)({center:{textAlign:"center"}})),$e=function(e){var t=e.open,a=e.handleCloseDialog,r=Ee(),o=r.lastSevenDays,l=r.today,i=r.lastTwoWeeks,u=r.month,d=r.year,m=r.customDate,p=r.currentDateRange,f=Ke(),E=[{icon:ne,text:ae,handleClick:function(){o(),a()},selected:p.icon===ne},{icon:re,text:ce,handleClick:function(){i(),a()},selected:p.icon===re},{icon:le,text:oe,handleClick:function(){l(),a()},selected:p.icon===le},{icon:se,text:ie,handleClick:function(){S(["year","month"]),A("M"),C(!0)},selected:p.icon===se},{icon:de,text:ue,handleClick:function(){S(["year"]),A("Y"),C(!0)},selected:p.icon===de},{icon:pe,text:"Select Date",handleClick:function(){S(["year","month","date"]),A("C"),C(!0)},selected:p.icon===pe}],b=Object(n.useState)(new Date),y=Object(s.a)(b,2),h=y[0],v=y[1],O=Object(n.useState)(!1),g=Object(s.a)(O,2),x=g[0],C=g[1],w=Object(n.useState)(["year","month","date"]),k=Object(s.a)(w,2),N=k[0],S=k[1],P=Object(n.useState)("C"),R=Object(s.a)(P,2),I=R[0],A=R[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{open:t,onClose:a},c.a.createElement(D.a,{className:f.center},"Select Date Range"),c.a.createElement("div",{className:"date-range-dialog-buttons"},E.map((function(e){return c.a.createElement(Je,{icon:e.icon,text:e.text,selected:e.selected,handleDateRangeClick:e.handleClick,key:e.icon})})))),c.a.createElement(T.a,{open:x,value:h,views:N,onChange:function(e){switch(v(e),C(!1),I){case"C":m(e);break;case"M":u(e);break;default:d(e)}a()},onClose:function(){return C(!1)},TextFieldComponent:function(){return null}}))},Qe=(a(206),function(){var e=Ee().currentDateRange,t=e.display,a=e.icon,r=Object(n.useState)(!1),o=Object(s.a)(r,2),l=o[0],i=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"date-selector-container",onClick:function(){return i(!0)}},c.a.createElement("div",{className:"date-selector-icon-container",dangerouslySetInnerHTML:{__html:a}}),c.a.createElement("div",{className:"date-selector-value"},t)),c.a.createElement($e,{open:l,handleCloseDialog:function(){i(!1)}}))}),Xe=(a(207),a(293)),Ze=a(279),et=(a(208),function(e){var t=e.open,a=be().hasInteractionExposure,n=ke().hasPlaceExposure;return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement("div",{className:"floating-alert-div"},!a&&c.a.createElement("div",{className:"alerts"},c.a.createElement(Xe.a,{severity:"success"},c.a.createElement(Ze.a,null,"Great"),"You are maintaining proper social distancing. Keep it up!")),a&&c.a.createElement("div",{className:"alerts"},c.a.createElement(Xe.a,{severity:"error"},c.a.createElement(Ze.a,null,"Warning"),"You did not practice social distancing for the last 14 days. Stay at home and maintain 1-2 meters away from other people")),!n&&c.a.createElement("div",{className:"alerts"},c.a.createElement(Xe.a,{severity:"success"},c.a.createElement(Ze.a,null,"Great"),"Thank you for helping to stop spread the virus by staying at home.")),n&&c.a.createElement("div",{className:"alerts"},c.a.createElement(Xe.a,{severity:"error"},c.a.createElement(Ze.a,null,"Warning"),"You have been exposed to a crowded place for the last 14 days. Try to avoid crowded places to minimize your exposure risk."))))}),tt="".concat(H.apiUrl,"/api/reset"),at=function(){var e=Object(U.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post(tt);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=Object(V.b)();return{resetData:function(){e({type:"Reset Places Request"}),e({type:"Reset Interaction Data Request"}),at().then((function(t){e({type:"Reset Places"}),e({type:"Reset Interaction"})}))}}},ct=Object(Se.a)({root:{width:450}}),rt=function(e){var t=e.open,a=e.handleClose,n=ct(),r=nt().resetData;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{open:t,onClose:a,disableBackdropClick:!0},c.a.createElement(Xe.a,{severity:"error"},c.a.createElement(Ze.a,null,c.a.createElement("b",null,"You are trying to reset the data!"))),c.a.createElement(C.a,{className:n.root},c.a.createElement("p",null,"Resetting the data would mean deleting all interactions and places that are currently saved."),c.a.createElement("p",null,"Are you sure you want to proceed?")),c.a.createElement(S.a,null,c.a.createElement(P.a,{onClick:a,color:"primary"},"Cancel"),c.a.createElement(P.a,{onClick:function(){r(),a()},color:"primary",autoFocus:!0},"Proceed"))))},ot=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),E=f[0],b=f[1],y=Object(l.f)(),h=Object(l.g)().pathname,v=be(),O=v.loading,g=v.hasInteractionExposure,x=ke(),j=x.loading,D=x.hasPlaceExposure,C=Object(n.useState)(0),w=Object(s.a)(C,2),k=w[0],N=w[1];Object(n.useEffect)((function(){N(g&&D?2:g||D?1:2)}),[g,D]),Object(n.useEffect)((function(){r("/interactions"===h?1:"/places"===h?2:"/overview"===h?3:0)}),[h]);var S=Object(Se.a)({root:{width:600},indeterminate:{display:"none"}})();return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe.a,{position:"static"},c.a.createElement(Te.a,{className:"header-toolbar"},c.a.createElement(Re.a,{variant:"h6"},"COVID Tracker Tool"),c.a.createElement("div",{className:"action-icons"},c.a.createElement(Ie.a,{color:"inherit",className:"bell-icon",onClick:function(){return d(!u)}},c.a.createElement(Ae.a,{badgeContent:k,color:g||D?"secondary":"primary"},c.a.createElement(qe.a,null))),c.a.createElement(Ie.a,{color:"inherit",className:"gear-icon",onClick:function(){return b(!0)}},c.a.createElement(Ge.a,null))))),c.a.createElement(Me.a,{value:a,onChange:function(e,t){r(t)},showLabels:!0,className:S.root},c.a.createElement(Fe.a,{label:"Dashboard",icon:c.a.createElement(_e.a,null),onClick:function(){return y.push("/")}}),c.a.createElement(Fe.a,{label:"Social Interactions",icon:c.a.createElement(p.a,null),onClick:function(){return y.push("/interactions")}}),c.a.createElement(Fe.a,{label:"Visited Places",icon:c.a.createElement(We.a,null),onClick:function(){return y.push("/places")}}),c.a.createElement(Fe.a,{label:"Overview",icon:c.a.createElement(He.a,null),onClick:function(){return y.push("/overview")}})),c.a.createElement(Qe,null),c.a.createElement("div",{className:"linear-progress"},c.a.createElement(Ve.a,{className:O||j?"":S.indeterminate})),c.a.createElement(et,{open:u}),c.a.createElement(rt,{open:E,handleClose:function(){return b(!1)}}))},lt=(a(209),function(){var e=be().interactions,t=ke().places,a=Object(n.useState)(0),r=Object(s.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){var a=e.filter((function(e){return e.isExposed})).length,n=t.filter((function(e){return e.isExposed})).length;l(a+n)}),[e,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"exposure-incidents"},c.a.createElement("div",{className:"exposure-incident"},"Total Interaction Exposures",c.a.createElement("div",{className:"exposure-count"},e.filter((function(e){return e.isExposed})).length)),c.a.createElement("div",{className:"exposure-incident"},"Total Place Exposures",c.a.createElement("div",{className:"exposure-count"},t.filter((function(e){return e.isExposed})).length)),c.a.createElement("div",{className:"exposure-incident"},"Total Exposure Incidents",c.a.createElement("div",{className:"exposure-count grand-total"},o))))}),it=(a(210),function(e){var t=e.title,a=e.count,n=e.buttonClass,r=e.isActive,o=e.onClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:o,className:"view-mode-button ".concat(n," ").concat(r?"active":"")},c.a.createElement("span",{className:"view-mode-title"},t),c.a.createElement("div",{className:"view-mode-count"},a)))}),st=(a(211),a(212),function(e){var t=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"chart-container"},c.a.createElement(h.a,null,c.a.createElement(b.c,{data:t,height:300},c.a.createElement(y.n,{name:"exposure"}),c.a.createElement(b.f,{scaleName:"exposure"}),c.a.createElement(b.a,null),c.a.createElement(b.b,{valueField:"notExposed",argumentField:"date",name:"Not Exposed",scaleName:"exposure"}),c.a.createElement(b.b,{valueField:"exposed",argumentField:"date",name:"Exposed",scaleName:"exposure"}),c.a.createElement(y.j,{stacks:[{series:["Exposed","Not Exposed"]}]}),c.a.createElement(b.d,{position:"bottom"})))))}),ut=function(e){switch(e){case ae:return"week";case ie:return"month";case ue:return"year";case ce:return"twoWeeks";default:return"day"}},dt=function(e,t,a){var n=[];if("day"===t){var c={date:I()(a).format("MMM DD, yyyy"),exposed:e.filter((function(e){return e.isExposed})).length,notExposed:e.filter((function(e){return!e.isExposed})).length};n.push(c)}else if("week"===t)for(var r=function(t){var a=I()().subtract(t,"day").startOf("day").toDate(),c=I()().subtract(t,"day").endOf("day").toDate(),r=e.filter((function(e){return new Date(e.date)>=a&&new Date(e.date)<=c})),o={date:I()().subtract(t,"day").format("MMM DD"),exposed:r.filter((function(e){return e.isExposed})).length,notExposed:r.filter((function(e){return!e.isExposed})).length};n.unshift(o)},o=0;o<7;o++)r(o);else if("month"===t)for(var l=I()(a).daysInMonth(),i=I()(a).endOf("month"),s=function(t){var a=I()(i).subtract(t,"day").startOf("day").toDate(),c=I()(i).subtract(t,"day").endOf("day").toDate(),r=e.filter((function(e){return new Date(e.date)>=a&&new Date(e.date)<=c})),o={date:I()(i).subtract(t,"day").format("DD"),exposed:r.filter((function(e){return e.isExposed})).length,notExposed:r.filter((function(e){return!e.isExposed})).length};n.unshift(o)},u=0;u<l;u++)s(u);else if("year"===t)for(var d=I()(a).endOf("year"),m=function(t){var a=I()(d).subtract(t,"month").startOf("month").startOf("day").toDate(),c=I()(d).subtract(t,"month").endOf("month").endOf("day").toDate(),r=e.filter((function(e){return new Date(e.date)>=a&&new Date(e.date)<=c})),o={date:I()(d).subtract(t,"month").format("MMM"),exposed:r.filter((function(e){return e.isExposed})).length,notExposed:r.filter((function(e){return!e.isExposed})).length};n.unshift(o)},p=0;p<12;p++)m(p);else for(var f=function(t){var a=I()().subtract(t,"day").startOf("day").toDate(),c=I()().subtract(t,"day").endOf("day").toDate(),r=e.filter((function(e){return new Date(e.date)>=a&&new Date(e.date)<=c})),o={date:I()().subtract(t,"day").format("MM/DD"),exposed:r.filter((function(e){return e.isExposed})).length,notExposed:r.filter((function(e){return!e.isExposed})).length};n.unshift(o)},E=0;E<14;E++)f(E);return n},mt=function(){var e=Object(n.useState)("interactions"),t=Object(s.a)(e,2),a=t[0],r=t[1],o=be().interactions,l=ke().places,i=Ee().currentDateRange,u=Object(n.useState)([]),d=Object(s.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){p(dt("interactions"===a?o:l,ut(i.range),i.endDate))}),[o,l,a,i]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"overview-container"},c.a.createElement("div",{className:"overview-header"},c.a.createElement(lt,null),c.a.createElement("div",{className:"mode-buttons"},c.a.createElement(it,{title:"Total Social Interactions",count:o.length,buttonClass:"social-interaction",isActive:"interactions"===a,onClick:function(){return r("interactions")}}),c.a.createElement(it,{title:"Total Visited Places",count:l.length,buttonClass:"visited-place",isActive:"places"===a,onClick:function(){return r("places")}}))),c.a.createElement("div",{className:"overview-chart-body"},c.a.createElement(st,{data:m}))))},pt=a(138);function ft(e){var t=pt.a(e,(function(e){return I()(e.date).startOf("day").format("MM/DD/yyyy")})),a=[];return Object.keys(t).forEach((function(e){var n={date:I()(e,"MM/DD/yyyy").startOf("day").toDate(),data:t[e]};a.push(n)})),a}var Et=a(288),bt=a(289),yt=a(290),ht=a(286),vt=a(296),Ot=a(133),gt=a.n(Ot),xt=a(287),jt=a(134),Dt=a.n(jt),Ct=a(135),wt=a.n(Ct),kt=(a(228),a(285)),Nt=function(e){var t=e.open,a=e.handleClose,n=e.deleteCallback;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{open:t,disableBackdropClick:!0,onClose:a},c.a.createElement(D.a,null,"Delete Data"),c.a.createElement(C.a,null,c.a.createElement(kt.a,null,"Are you sure about deleting this data?"),c.a.createElement(S.a,null,c.a.createElement(P.a,{onClick:a,color:"primary"},"Disagree"),c.a.createElement(P.a,{onClick:n,color:"primary",autoFocus:!0},"Agree")))))},St=c.a.createContext({mode:"interaction",dialogTitle:"",nameDisplayText:"",exposureDisplayText:"",deleteDataCallback:function(e){},updateDataCallback:function(e){}}),Pt=Object(Se.a)({root:{margin:"0px 5px"}}),Tt=Object(Se.a)({root:{verticalAlign:"top"}}),Rt=function(e){var t=Pt(),a=Tt(),r=e.detail,o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],m=l[1],p=Object(n.useContext)(St),f=p.mode,E=p.dialogTitle,b=p.nameDisplayText,y=p.exposureDisplayText,h=p.updateDataCallback,v=p.deleteDataCallback,O=Object(n.useState)(!1),g=Object(s.a)(O,2),x=g[0],j=g[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.a,{className:a.root},c.a.createElement(xt.a,{style:{width:"80px"}},c.a.createElement("div",{className:"exposure-icon"},c.a.createElement(u.a,{color:r.isExposed?"secondary":"primary",size:"small","aria-label":"add",disableRipple:!0,disableFocusRipple:!0},"\xa0"),c.a.createElement("div",{className:"exposure-text"},r.isExposed?"Exposed":"Not Exposed"))),c.a.createElement(xt.a,{style:{width:"244px"}},c.a.createElement("div",{className:"detail-header"},b),c.a.createElement("div",{className:"detail-content"},r.name)),c.a.createElement(xt.a,{style:{width:"80px"}},c.a.createElement("div",{className:"detail-header"},"Hours Spent"),c.a.createElement("div",{className:"detail-content"},r.hours)),c.a.createElement(xt.a,{style:{width:"80px"}},c.a.createElement("div",{className:"detail-actions"},c.a.createElement(u.a,{color:"default",size:"small",className:t.root,onClick:function(){return j(!0)}},c.a.createElement(Dt.a,null)),c.a.createElement(u.a,{color:"default",size:"small",className:t.root,onClick:function(){return m(!0)}},c.a.createElement(wt.a,null))))),c.a.createElement(Nt,{open:d,handleClose:function(){m(!1)},deleteCallback:function(){v(r.id),m(!1)}}),c.a.createElement(F,{dialogTitle:E,open:x,nameDisplayText:b,exposureDisplayText:y,handleClose:function(){return j(!1)},initialValue:"interaction"===f?Object(i.a)(Object(i.a)({},r),{},{isExposed:!r.isExposed}):r,saveCallback:function(e){h(Object(i.a)(Object(i.a)({},e),{},{id:r.id})),j(!1)}}))},It=(a(229),Object(Se.a)({root:{backgroundColor:"#d6d4d4",boxShadow:"0px -1px 5px 0px rgba(0,0,0,0.75)",borderBottom:"1.5px solid gray",marginTop:"5px"}})),At=Object(Se.a)({root:{color:"#3e4ea0",padding:"5px 0px 5px 10px"}}),Mt=function(e){var t=It(),a=At(),n=e.headerDate;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.a,{className:t.root},c.a.createElement(xt.a,{className:a.root,colSpan:4},c.a.createElement("div",{className:"header-date"},c.a.createElement("div",{className:"date-part"},I()(n).format("DD")),c.a.createElement("div",{className:"other-part"},c.a.createElement("div",{className:"day-part"},I()(n).format("dddd")),c.a.createElement("div",{className:"month-year-part"},I()(n).format("MMM yyyy")))))))},Ft=function(e){var t=e.groupedData,a=t.date,n=t.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Mt,{headerDate:a}),n.map((function(e){return c.a.createElement(Rt,{key:e.id,detail:e})})))},Vt=Object(Se.a)({root:{boxShadow:"0px -1px 5px 0px rgba(0,0,0,0.75)",marginTop:"5px"}}),Lt=function(e){var t=e.data,a=e.pagination,n=e.rowsPerPageCallback,r=e.pageCallback,o=a.length,l=a.rowsPerPage,i=a.page,s=Vt();return c.a.createElement(c.a.Fragment,null,c.a.createElement(gt.a,{style:{height:"370px"},autoHide:!0},c.a.createElement(Et.a,null,c.a.createElement(bt.a,null,t.map((function(e,t){return c.a.createElement(Ft,{key:t,groupedData:e})}))))),c.a.createElement(Et.a,null,c.a.createElement(yt.a,{className:s.root},c.a.createElement(ht.a,null,c.a.createElement(vt.a,{rowsPerPage:l,rowsPerPageOptions:[5,10,25],colSpan:4,count:o,page:i,onChangePage:function(e,t){return function(e){r(e)}(t)},onChangeRowsPerPage:function(e){n(+e.target.value)}})))))},qt=a(136),Ut=a.n(qt),_t=(a(230),Object(Se.a)((function(e){return{extendedIcon:{marginRight:e.spacing(1)}}}))),Bt=function(e){var t=e.addDisplayText,a=e.onAddClick,n=_t();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"floating-add-button"},c.a.createElement(u.a,{color:"default",variant:"extended",onClick:a},c.a.createElement(Ut.a,{className:n.extendedIcon}),t)))},Wt=(a(231),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"empty-table"},c.a.createElement("div",{className:"empty-message"},e.children)))}),Yt=function(){var e=be(),t=e.interactions,a=e.addInteraction,r=e.deleteInteraction,o=e.updateInteraction,l=e.loading,u=Object(n.useState)([]),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(0),E=Object(s.a)(f,2),b=E[0],y=E[1],h=Object(n.useState)(0),v=Object(s.a)(h,2),O=v[0],g=v[1],x=Object(n.useState)(5),j=Object(s.a)(x,2),D=j[0],C=j[1],w=Object(n.useState)(!1),k=Object(s.a)(w,2),N=k[0],S=k[1];Object(n.useEffect)((function(){y(t.length);var e=O*D;p(ft(t.slice().sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})).slice(e,e+D)))}),[t,O,D]);var P={dialogTitle:"Update Social Interaction",nameDisplayText:"Name",exposureDisplayText:"Is Social Distancing Observed?",updateDataCallback:function(e){o(Object(i.a)(Object(i.a)({},e),{},{isExposed:!e.isExposed}))},deleteDataCallback:function(e){r(e)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(St.Provider,{value:Object(i.a)(Object(i.a)({},P),{},{mode:"interaction"})},t.length>0&&c.a.createElement(Lt,{data:m,pagination:{length:b,rowsPerPage:D,page:O},rowsPerPageCallback:function(e){C(e)},pageCallback:function(e){g(e)}}),t.length<=0&&c.a.createElement(Wt,null,"No interaction data present yet. Click on ",c.a.createElement("b",null,"ADD INTERACTION")," to start collecting data.")),!l&&c.a.createElement(Bt,{addDisplayText:"Add Interaction",onAddClick:function(){return S(!0)}}),c.a.createElement(F,{open:N,dialogTitle:"Add Social Interaction",nameDisplayText:"Name",exposureDisplayText:"Is Social Distancing Observed?",saveCallback:function(e){a(Object(i.a)(Object(i.a)({},e),{},{isExposed:!e.isExposed}))},handleClose:function(){return S(!1)}}))},Ht=function(){var e=ke(),t=e.places,a=e.addPlace,r=e.loading,o=e.deletePlace,l=e.savePlace,u=Object(n.useState)([]),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(0),E=Object(s.a)(f,2),b=E[0],y=E[1],h=Object(n.useState)(0),v=Object(s.a)(h,2),O=v[0],g=v[1],x=Object(n.useState)(5),j=Object(s.a)(x,2),D=j[0],C=j[1],w=Object(n.useState)(!1),k=Object(s.a)(w,2),N=k[0],S=k[1];Object(n.useEffect)((function(){y(t.length);var e=O*D;p(ft(t.slice().sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})).slice(e,e+D)))}),[t,O,D]);var P={dialogTitle:"Update Visited Place",nameDisplayText:"Place",exposureDisplayText:"Is Crowded?",updateDataCallback:function(e){l(e)},deleteDataCallback:function(e){o(e)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(St.Provider,{value:Object(i.a)(Object(i.a)({},P),{},{mode:"place"})},t.length>0&&c.a.createElement(Lt,{data:m,pagination:{length:b,rowsPerPage:D,page:O},rowsPerPageCallback:function(e){C(e)},pageCallback:function(e){g(e)}}),t.length<=0&&c.a.createElement(Wt,null,"No interaction data present yet. Click on ",c.a.createElement("b",null,"ADD PLACE")," to start collecting data.")),!r&&c.a.createElement(Bt,{addDisplayText:"Add Place",onAddClick:function(){return S(!0)}}),c.a.createElement(F,{open:N,dialogTitle:"Add Visited Place",nameDisplayText:"Place",exposureDisplayText:"Is Crowded?",saveCallback:function(e){a(e)},handleClose:function(){return S(!1)}}))};var zt=function(){var e=be().fetchInteractions,t=ke().fetchPlaces;return Object(n.useEffect)((function(){e(),t()}),[]),c.a.createElement("div",{className:"app-container"},c.a.createElement(ot,null),c.a.createElement("div",{className:"route-container"},c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:Ne}),c.a.createElement(l.a,{path:"/interactions",component:Yt}),c.a.createElement(l.a,{path:"/places",component:Ht}),c.a.createElement(l.a,{path:"/overview",component:mt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gt=a(96),Jt=a(137),Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(i.a)(Object(i.a)({},e),{},{dateRange:t.payload.dateRange});default:return e}},$t=a(95),Qt={loading:!0,interactions:[]},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Fetch Interactions Request":return{loading:!0,interactions:[]};case"Fetch Social Interactions":return{loading:!1,interactions:t.payload.interactions};case"Add Interaction Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Add Social Interaction":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,interactions:[].concat(Object($t.a)(e.interactions),[t.payload.interaction])});case"Remove Interaction Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Remove Social Interaction":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,interactions:e.interactions.filter((function(e){return e.id!==t.payload.interactionId}))});case"Update Interaction Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Update Social Interaction":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,interactions:e.interactions.map((function(e){return e.id===t.payload.interaction.id?Object(i.a)(Object(i.a)({},e),{},{name:t.payload.interaction.name,date:t.payload.interaction.date,hours:t.payload.interaction.hours,isExposed:t.payload.interaction.isExposed}):Object(i.a)({},e)}))});case"Reset Interaction Data Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Reset Interaction":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,interactions:[]});default:return e}},Zt={loading:!0,places:[]},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Fetch PLACEs Request":return{loading:!0,places:[]};case"Fetch Social PLACEs":return{loading:!1,places:t.payload.places};case"Add PLACE Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Add Social PLACE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,places:[].concat(Object($t.a)(e.places),[t.payload.place])});case"Remove PLACE Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Remove Social PLACE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,places:e.places.filter((function(e){return e.id!==t.payload.placeId}))});case"Update PLACE Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Update Social PLACE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,places:e.places.map((function(e){return e.id===t.payload.place.id?Object(i.a)(Object(i.a)({},e),{},{name:t.payload.place.name,date:t.payload.place.date,hours:t.payload.place.hours,isExposed:t.payload.place.isExposed}):Object(i.a)({},e)}))});case"Reset Places Request":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"Reset Places":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,places:[]});default:return e}},ta=Object(Gt.b)({dateRangeReducer:Kt,socialInteractionReducer:Xt,visitedPlaceReducer:ea});var aa=a(139),na=a(26);o.a.render(c.a.createElement(V.a,{store:Object(Gt.c)(ta,Object(Gt.a)(Jt.a))},c.a.createElement(O.a,null,c.a.createElement(na.a,{utils:aa.a},c.a.createElement(zt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.36256b5c.chunk.js.map